version: v1beta1
build:
  roots:
    - src/proto
lint:
  # https://docs.buf.build/lint-rules/
  use:
    - DEFAULT
    # TODO: We should fully document the schema; at that point we can
    # enable this lint
    # - COMMENTS
  ignore:
    # We have vendored some of the Google protobuf definitions; we
    # don't need to lint them, and will be able to remove them soon.
    - google
  # TODO: Only allowing this temporarily for Edge#edgeName; remove at
  # earliest possible convenience, since this allows for uncontrolled
  # ignoring of arbitrary lints.
  allow_comment_ignores: true
breaking:
  # https://docs.buf.build/breaking-configuration
  use:
    - FILE
  ignore:
    # Ignore pre-release (i.e., alpha and beta) packages; those can
    # break backward compatibility by definition.
    - graplinc/grapl/api/graph/v1beta1
    # Again, we don't care about vendored definitions
    - google
