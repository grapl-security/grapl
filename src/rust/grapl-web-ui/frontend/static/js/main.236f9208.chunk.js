(this["webpackJsonpgrapl-fe"]=this["webpackJsonpgrapl-fe"]||[]).push([[0],{159:function(e,n,t){},216:function(e,n,t){},288:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(20),s=t.n(c),o=(t(216),t(193)),i=t(351),l=(t(159),t(9)),u=t.n(l),d=t(15),f=t(12),j=t(19),b=t(134),p=t(57),h=t(324),g=t(355),O=Object(h.a)((function(e){return Object(g.a)({valErrorMsg:{marginLeft:".8rem",color:"red",fontSize:".75rem"}})})),m={auth:"auth",graphQL:"graphQlEndpoint",modelPluginEdge:"modelPluginDeployer"},x=t(7),v=t(11),y=function(){var e=Object(f.a)(u.a.mark((function e(n){var t,r,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:"GET",e.next=3,fetch(n,{method:t,credentials:"include",headers:new Headers({"Content-Type":"application/json"})}).catch((function(e){throw console.warn(e),new Error("API Request Error: ".concat(e))}));case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(u.a.mark((function e(n,t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:"POST",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:t}).catch((function(e){throw console.warn(e),new Error("Error with Post Request: ".concat(e))}));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),k=function(){function e(){Object(x.a)(this,e)}return Object(v.a)(e,[{key:"query",value:function(){var e=Object(f.a)(u.a.mark((function e(n,t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify({query:n,variables:t||{}}),e.next=3,w("".concat(m.graphQL,"/graphql"),r);case 3:if(!(a=e.sent).errors){e.next=7;break}throw console.log(a.errors),new Error("Could not query GraphQL: ".concat(a.errors));case 7:return e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getLensScope",value:function(){var e=Object(f.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getScopeQuery();case 2:return t=e.sent,e.next=5,this.query(t,{lens_name:n});case 5:return r=e.sent,e.abrupt("return",r.lens_scope);case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getScopeQuery",value:function(){var e=Object(f.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"\n        {\n            lens_scope_query {\n                query_string\n            }\n        }\n        ",e.next=3,this.query("\n        {\n            lens_scope_query {\n                query_string\n            }\n        }\n        ");case 3:return n=e.sent,e.abrupt("return",n.lens_scope_query.query_string);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),N=function(){var e=Object(f.a)(u.a.mark((function e(n,t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify({username:n,password:t}),e.prev=1,e.next=4,w("".concat(m.auth,"/login"),r);case 4:return a=e.sent,e.abrupt("return",!0===a.success);case 8:return e.prev=8,e.t0=e.catch(1),console.log("Login Error",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}(),S=t(3),C=function(e){var n=O(),t=b.a().shape({userName:b.b().required("Username Required"),password:b.b().required("Password Required")}),r=a.a.useState({loginFailed:!1}),c=Object(j.a)(r,2),s=c[0],o=c[1];return Object(S.jsxs)("div",{className:"loginContainer",children:[Object(S.jsx)("div",{className:"grapl",children:" Grapl "}),Object(S.jsx)("div",{className:"formContainer",children:Object(S.jsx)(p.c,{initialValues:{userName:"",password:""},validationSchema:t,onSubmit:function(){var e=Object(f.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n.userName,n.password);case 2:!0===e.sent?(window.history.replaceState("#/login","","#/"),window.location.reload(),console.log("Logged In")):o(Object(d.a)(Object(d.a)({},s),{},{loginFailed:!0}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,r=e.touched;return Object(S.jsxs)(p.b,{children:[Object(S.jsx)("div",{className:"welcomeBanner",children:"Welcome"}),Object(S.jsx)("div",{className:"loginText",children:"Log into your account"}),Object(S.jsx)(p.a,{name:"userName",type:"text",placeholder:"Username"}),r.userName&&t.userName&&Object(S.jsx)("div",{className:n.valErrorMsg,children:t.userName}),Object(S.jsx)(p.a,{name:"password",type:"password",placeholder:"Password"})," ",Object(S.jsx)("br",{}),r.password&&t.password&&Object(S.jsx)("div",{className:n.valErrorMsg,children:t.password}),Object(S.jsx)("button",{className:"submitBtn",type:"submit",children:"Submit"}),s.loginFailed&&Object(S.jsx)("div",{className:n.valErrorMsg,children:"Unsuccessful Login"})]})}})})]})},P=t(13),L=t(46),E=t(6),I=t(356),F=t(346),R=t(342),T=t(343),_=t(345),A=t(341),z=t(188),D=t.n(z),M=t(340),q=t(187),B=t.n(q),W=t(192),U=function(e){return e>=0&&e<=25?"#02D084":e>=26&&e<=50?"#13A5E3":e>=51&&e<=75?"#FFD773":e>=76&&e<=100?"#E50F14":void 0},G=t(106),H=t(18),J=function(e,n){var t=e,r=0,a=n.map((function(e){return e||0})).sort((function(e,n){return e-n}));if("object"===typeof e&&(t=e.risk),void 0===t||0===t||0===a.length)return 0;var c,s=Object(H.a)(a);try{for(s.s();!(c=s.n()).done;){t>=c.value&&(r+=1)}}catch(o){s.e(o)}finally{s.f()}return Math.floor(r/a.length*100)},Q=function(e,n){var t,r=Object(H.a)(n||[]);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.id===e)return a}}catch(c){r.e(c)}finally{r.f()}return null},V=function(e,n){var t=function(e,n){var t=Q(e.source,n.nodes)||Q(e.source.name,n.nodes),r=Q(e.target,n.nodes)||Q(e.target.name,n.nodes),a=t.risk_score||0,c=r.risk_score||0;return t&&r?Math.round((a+c)/2):(console.error("Missing srcNode/dstNode",t,e.source,r,n.nodes),0)}(e,n),r=Object(G.a)(n.nodes).map((function(e){return e.risk}));return J(t,r)},Y=function(e,n){var t=V(e,n);return U(t)},X=function(e,n){return n.display||e},$=function(){var e=Object(f.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k,e.next=3,t.getLensScope(n);case 3:return r=e.sent,e.abrupt("return",r.scope);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=function(e,n){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(Array.isArray(r)){var a,c=Object(H.a)(r);try{for(c.s();!(a=c.n()).done;){var s=a.value;void 0!==s.uid&&n(t,s)}}catch(o){c.e(o)}finally{c.f()}}else r&&void 0!==r.uid&&n(t,r)}},Z=function(e,n){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(Array.isArray(r)){var a,c=Object(H.a)(r);try{for(c.s();!(a=c.n()).done;){var s=a.value;void 0!==s.uid&&n(t,s)}}catch(o){c.e(o)}finally{c.f()}}else r&&void 0!==r.uid&&n(t,r)}},ee=function e(n,t){t(n),K(n,(function(n,r){e(r,t)}))},ne=function e(n,t){K(n,(function(r,a){t(n,r,a),e(a,t)}))},te=function(e){var n=e.dgraph_type;return n?Array.isArray(n)?n[0]:n:(console.warn("Unable to find type for node ",e),"Unknown Type")},re=function(e){var n,t=[],r=[],a=new Map,c=Object(H.a)(e);try{for(c.s();!(n=c.n()).done;){var s=n.value;ne(s,(function(e,n,t){if("scope"!==n){if("Unknown"===te(e)||"Unknown"===te(t)||"Risk"===te(e)||"Risk"===te(t))return;r.push({source:e.uid,name:n,target:t.uid})}})),ee(s,(function(e){var n=te(e);if("Unknown"!==n&&"Risk"!==n){var t,r=X(n,e),c=Object(d.a)({},e),s=e.risk||0,o="",i=e.risks||[],l=Object(H.a)(i);try{for(l.s();!(t=l.n()).done;){var u=t.value;s+=u.risk_score||0,o&&u.analyzer_name&&(o+=", "),o+=u.analyzer_name||""}}catch(j){l.e(j)}finally{l.f()}K(e,(function(e,n){c[e]=void 0}));var f=Object(d.a)(Object(d.a)({name:e.uid},c),{},{risk_score:s,analyzerNames:o,id:e.uid,nodeType:n,nodeLabel:r});a.set(e.uid,f)}}))}}catch(f){c.e(f)}finally{c.f()}var o,i={},l=Object(H.a)(a.values());try{for(l.s();!(o=l.n()).done;){var u=o.value;t.push(u),i[u.uid]||(i[u.uid]=u)}}catch(f){l.e(f)}finally{l.f()}return{nodes:t,links:r,index:i}},ae=function(e,n){for(var t in e){var r=e[t];Object.prototype.hasOwnProperty.call(e,t)&&(Array.isArray(r)?r.length>0&&void 0===r[0].uid&&n(t):n(t))}},ce=function(e,n){var t=!1,r={};for(var a in e)"fx"!==a&&"fy"!==a&&"links"!==a&&"neighbors"!==a&&"vx"!==a&&"vy"!==a&&"x"!==a&&"y"!==a&&"vx"!==a&&"vy"!==a&&(r[a]=e[a]);var c=r;return ae(n,(function(e){Object.prototype.hasOwnProperty.call(c,e)||c[e]!==n[e]&&(c[e]=n[e],t=!0)})),t},se=function(e,n){if(!n.nodes&&!n.links)return null;var t,r=!1,a={nodes:[],links:[],index:{}},c=new Map,s=new Map,o=Object(H.a)(e.nodes);try{for(o.s();!(t=o.n()).done;){var i=t.value;c.set(i.uid,i)}}catch(N){o.e(N)}finally{o.f()}var l,u=Object(H.a)(n.nodes);try{for(u.s();!(l=u.n()).done;){var d=l.value,f=c.get(d.uid);f?ce(f,d)&&(r=!0):(c.set(d.uid,d),r=!0)}}catch(N){u.e(N)}finally{u.f()}var j,b=Object(H.a)(e.links);try{for(b.s();!(j=b.n()).done;){var p=j.value;if(p){var h=p,g=h.source.uid+p.name+h.target.uid;s.set(g,p)}}}catch(N){b.e(N)}finally{b.f()}var O,m=Object(H.a)(n.links);try{for(m.s();!(O=m.n()).done;){var x=O.value,v=x.source+x.name+x.target;s.get(v)||(s.set(x.source+x.name+x.target,x),r=!0)}}catch(N){m.e(N)}finally{m.f()}a.nodes=Array.from(c.values()),a.links=Array.from(s.values());var y,w=Object(H.a)(a.nodes);try{for(w.s();!(y=w.n()).done;){var k=y.value;a.index[k.uid]=k}}catch(N){w.e(N)}finally{w.f()}return a.links.forEach((function(e){var n=a.index[e.source],t=a.index[e.target];void 0!==n&&void 0!==!t&&(!n.neighbors&&(n.neighbors=new Set),!t.neighbors&&(t.neighbors=new Set),n.neighbors.add(t),t.neighbors.add(n),!n.links&&(n.links=new Set),!t.links&&(t.links=new Set),n.links.add(e),t.links.add(e))})),r?a:null},oe=function(){var e=Object(f.a)(u.a.mark((function e(n,t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.log("No lens names"),e.abrupt("return");case 3:return a=t.curLensName,e.next=6,$(n).then(function(){var e=Object(f.a)(u.a.mark((function e(c){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=re(c),null!==(o=se(t.graphData,s))&&r(a===n?Object(d.a)(Object(d.a)({},t),{},{curLensName:n,graphData:o}):Object(d.a)(Object(d.a)({},t),{},{curLensName:n,graphData:s}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return console.error("Failed to retrieveGraph ",e)}));case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),ie="#FADA63",le="#42C6FF",ue="rgba(0, 0, 0, 0.8)",de="#ffffff",fe="#919191",je="#F1F1F1",be=function(e){var n=e.lensName,t=e.setCurNode,a=Object(r.useRef)(),c=Object(r.useState)(function(e){return{graphData:{nodes:[],links:[],index:{}},curLensName:e}}(n)),s=Object(j.a)(c,2),o=s[0],i=s[1];function l(){return d.apply(this,arguments)}function d(){return(d=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,oe(n,o,i);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){l();var e=setInterval(l,1e4);return function(){return clearInterval(e)}}),[n,o,i,l]);var b=Object(r.useMemo)((function(){return o.graphData}),[o]),p=Object(r.useState)(null),h=Object(j.a)(p,2),g=h[0],O=h[1],m=Object(r.useState)(new Set),x=Object(j.a)(m,2),v=x[0],y=x[1],w=Object(r.useState)(new Set),k=Object(j.a)(w,2),N=k[0],C=k[1],P=Object(r.useState)(null),L=Object(j.a)(P,2),E=L[0],I=L[1],F=Object(r.useCallback)((function(){y(v),C(N)}),[v,N]),R=Object(r.useCallback)((function(e,n){var r=e,a=r.links,c=r.neighbors;delete r.links,delete r.neighbors,t(r),O(r||null),r.links=a,r.neighbors=c}),[t,O]),T=Object(r.useCallback)((function(e,n){if(v.clear(),N.clear(),e){var t=e;if(v.add(t),!t.neighbors)return;t.neighbors.forEach((function(e){v.add(e)})),t.links.forEach((function(e){N.add(e)}))}I(e||null),F()}),[I,F,N,v]),_=Object(r.useCallback)((function(e,n){e.fx=e.x,e.fy=e.y,n.save();var t=function(e,n){var t=Object(G.a)(n.nodes).map((function(e){return e.risk})),r=J(e.risk_score,t);return r>=75?7:r>=50?6:r>=25?5:4}(e,b);n.beginPath(),n.arc(e.x,e.y,1.4*t,0,2*Math.PI,!1),n.fillStyle=e===E?ie:U(e.risk_score),n.fill(),n.save(),n.beginPath(),n.arc(e.x,e.y,1.2*t,0,2*Math.PI,!1),n.fillStyle=e===g?le:function(e){switch(e){case"Asset":return"rgba(251, 154, 153, .8)";case"File":return"rgba(236, 189, 169, .8)";case"IpAddress":return"rgba(253, 191, 111, .8)";case"IpConnections":return"rgba(255, 241, 150, .8)";case"IpPort":return"rgba(178, 223, 138, .8)";case"NetworkConnection":return"rgba(166, 206, 227, .8)";case"Process":return"rgba(31, 120, 180, .8)";case"ProcessInboundConnection":return"rgba(202, 178, 214, .8)";case"ProcessOutboundConnection":return"rgba(106, 61, 154, .8)";case"Risk":return"rgba(238, 238, 238, .8)";default:return"#42C6FF"}}(e.dgraph_type[0]),n.fill(),n.save();var r=e.nodeLabel,a=Math.min(98,t/n.measureText(r).width);n.font="".concat(a+5,"px Roboto");var c=[n.measureText(r).width,a].map((function(e){return e+.2*a}));n.fillStyle=ue,n.fillRect(e.x-c[0]/2,e.y-c[1]-2.75,c[0]+1.25,c[1]+5.5),n.textAlign="center",n.textBaseline="middle",n.fillStyle=de,n.fillText(r,e.x,e.y),n.save()}),[b,g,E]);return Object(S.jsx)(W.a,{graphData:b,ref:a,nodeLabel:"nodeType",nodeCanvasObject:_,nodeCanvasObjectMode:function(){return"after"},onNodeHover:T,onNodeClick:R,onNodeDragEnd:function(e){e.fx=e.x,e.fy=e.y},linkColor:function(e){return N.has(e)?je:Y(e,b)},linkWidth:function(e){return N.has(e)?5:4},linkDirectionalArrowLength:10,linkDirectionalArrowRelPos:function(e){return function(e,n){var t=Q(e.target.uid,n.nodes);if(null===t||0===t.risk)return 1;var r=Object(G.a)(n.nodes).map((function(e){return e.risk})),a=J(t.risk_score,r);return a>=75?.95:a>=50?.9:a>=25?.85:1}(e,b)},linkDirectionalParticleSpeed:.005,linkDirectionalParticleColor:function(e){return fe},linkDirectionalParticles:1,linkDirectionalParticleWidth:function(e){return N.has(e)?4:function(e,n){var t=V(e,n);return t>=75?5:t>=50?4:t>=25?3:2}(e,b)+1},linkCanvasObjectMode:function(){return"after"},linkCanvasObject:function(e,n){var t=e.source,r=e.target;if(e.color=Y(e,b),"object"===typeof t&&"object"===typeof r){var a={x:t.x+(r.x-t.x)/2,y:t.y+(r.y-t.y)/2},c={x:r.x-t.x,y:r.y-t.y},s=Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2))-96,o=Math.atan2(c.y,c.x);o>Math.PI/2&&(o=-(Math.PI-o)),o<-Math.PI/2&&(o=-(-Math.PI-o));var i,l="children"===(i=e.name)?"executed":i;n.font="50px Roboto";var u=Math.min(8,s/n.measureText(l).width);n.font="".concat(u+5,"px Roboto"),n.save(),n.translate(a.x,a.y),n.rotate(o),n.textAlign="center",n.textBaseline="middle",n.fillText(l,.75,3),n.restore()}},onLinkHover:function(e){v.clear(),N.clear(),e&&(N.add(e),v.add(e.source),v.add(e.target))},warmupTicks:100,cooldownTicks:100})},pe=t(338),he=t(339),ge=t(336),Oe=t(337),me=t(335),xe=t(333);function ve(e,n){return e?Object(S.jsx)(xe.a,{children:Object(S.jsxs)(me.a,{children:[Object(S.jsx)(ge.a,{align:"left",className:n.tableHeader,children:Object(S.jsx)("b",{children:" Property "})}),Object(S.jsx)(ge.a,{align:"right",className:n.tableHeader,children:Object(S.jsx)("b",{children:" Value "})})]})}):Object(S.jsx)(S.Fragment,{})}var ye=Object(h.a)({root:{fontSize:".75em"},nodeTable:{minWidth:450},tableHeader:{fontSize:".85rem",backgroundColor:"#363434"},nodeTableData:{fontSize:".75rem",backgroundColor:"#333333"},nodeTableContainer:{textAlign:"center",marginLeft:"auto",marginRight:"auto",width:"95%"}}),we=function(e){var n=e.node,t=ye(),r=new Set(["id","dgraph.type","dgraph_type","__indexColor","risks","uid","scope","name","nodeType","nodeLabel","x","y","index","vy","vx","fx","fy","links","neighbors","display"]);Z(n,(function(e,n){r.add(e)}));var a={};return ae(n,(function(e){var t=n[e];if(!r.has(e)&&t)if(e.includes("_time"))try{a[e]=new Date(t).toLocaleString()}catch(c){a[e]=t}else a[e]=t})),Object(S.jsx)(Oe.a,{className:t.nodeTableContainer,children:Object(S.jsxs)(pe.a,{children:[ve(n,t),Object(S.jsx)(he.a,{children:Object.entries(a).map((function(e){var r=Object(j.a)(e,2),a=r[0],c=r[1];return Object(S.jsxs)(me.a,{children:[Object(S.jsx)(ge.a,{className:t.nodeTableData,align:"left",children:a}),Object(S.jsx)(ge.a,{className:t.nodeTableData,align:"right",children:c})]},n.node_key+a)}))})]})})},ke=t(126),Ne=t.n(ke),Se=t(125),Ce=t.n(Se),Pe=t(358),Le=t(344),Ee=t(353),Ie=Object(h.a)({root:{fontSize:"1rem",border:0,color:"white",padding:"0 30px"},backdrop:{color:"#fff",backgroundColor:"transparent",width:"80%"},table:{minWidth:450,backgroundColor:"#323232"},lensToggleBtn:{width:".05%",height:"50%",color:"white",margin:".5rem",backgroundColor:"#424242"},title:{margin:"1rem",fontSize:"1.1rem",color:"white"},expand:{color:"#42C6FF",margin:"0px",width:"1.5rem",height:"1.5rem"},header:{display:"flex"},lensName:{fontSize:".7rem"},pagination:{backgroundColor:"#323232"},tableHead:{display:"flex",color:"white",fontSize:".8rem"},tableContainer:{textAlign:"center",marginLeft:"auto",marginRight:"auto",width:"95%"},tableRow:{background:"#323232"}});function Fe(e){var n=Ie();return Object(S.jsxs)(me.a,{className:n.tableRow,children:[Object(S.jsx)(ge.a,{component:"th",scope:"row",align:"left",children:Object(S.jsx)(M.a,{className:n.lensName,onClick:function(){e.setLens(e.lens)},children:e.lens_type+" :\t\t"+e.lens})}),Object(S.jsx)(ge.a,{component:"th",scope:"row",align:"right",children:e.score})]},e.uid)}var Re=function(e,n,t,r,a,c,s){return Object(S.jsxs)(Oe.a,{className:s.tableContainer,children:[Object(S.jsx)(Ee.a,{className:s.pagination,"aria-label":"pagination",rowsPerPageOptions:[5,10,25],component:"div",count:e.lenses.length,rowsPerPage:t,page:n,onChangePage:r,onChangeRowsPerPage:a}),Object(S.jsxs)(pe.a,{className:s.table,"aria-label":"lens-table",children:[Object(S.jsx)(xe.a,{children:Object(S.jsxs)(me.a,{children:[Object(S.jsx)(ge.a,{align:"left",children:Object(S.jsx)("b",{children:" Lens Name "})}),Object(S.jsx)(ge.a,{align:"right",children:Object(S.jsx)("b",{children:" Risk "})})]})}),Object(S.jsx)(he.a,{children:e.lenses.slice(n*t,n*t+t).map((function(e){return Object(S.jsx)(Fe,{uid:e.uid,lens:e.lens_name,lens_type:e.lens_type,score:e.score,setLens:c},Number(e.uid))}))})]},"lensTable")]})},Te=function(){var e=Object(f.a)(u.a.mark((function e(n,t){var r,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="\n        {\n            lenses(first: ".concat(n,", offset: ").concat(t,") {\n                uid,\n                node_key,\n                lens_name,\n                score, \n                lens_type,\n            }\n        }\n    "),a=JSON.stringify({query:r}),e.next=4,w("".concat(m.graphQL,"/graphql"),a).then((function(e){return e})).then((function(e){return e.errors&&(console.error("Unable to retrieve lenses ",e.errors),e.data={lenses:[]}),e})).then((function(e){return e.data}));case 4:return c=e.sent,e.next=7,c;case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function _e(e){var n=e.setLens,t=Ie(),a=Object(r.useState)(null),c=Object(j.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)({toggled:!0,lenses:[],first:100,offset:0}),l=Object(j.a)(i,2),u=l[0],f=l[1],b=Object(r.useState)(0),p=Object(j.a)(b,2),h=p[0],g=p[1],O=Object(r.useState)(10),m=Object(j.a)(O,2),x=m[0],v=m[1];return Object(r.useEffect)((function(){var e=setInterval((function(){Te(u.first,u.offset).then((function(e){if(e.lenses&&e.lenses!==u.lenses){var n=u.lenses.concat(e.lenses);o(n),f(Object(d.a)(Object(d.a)({},u),{},{offset:u.offset+e.lenses.length||0,lenses:n}))}}))}),5e3);return function(){return clearInterval(e)}})),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:t.header,children:[Object(S.jsx)("b",{className:t.title,children:" Lenses "}),Object(S.jsx)(M.a,{className:t.lensToggleBtn,onClick:function(){f(Object(d.a)(Object(d.a)({},u),{},{toggled:!u.toggled}))},children:u.toggled?Object(S.jsx)(Ce.a,{className:t.expand}):Object(S.jsx)(Ne.a,{className:t.expand})})]}),Object(S.jsx)("div",{className:"lensToggle",children:s?u.toggled&&Re(u,h,x,(function(e,n){g(n)}),(function(e){v(parseInt(e.target.value,10)),g(0)}),n,t):Object(S.jsx)(Pe.a,{className:t.backdrop,open:!0,children:Object(S.jsx)(Le.a,{color:"inherit"})})}),Object(S.jsx)(_.a,{})]})}function Ae(e){var n=e.curNode,t=Object(r.useState)(!0),a=Object(j.a)(t,2),c=a[0],s=a[1],o=Ie();return Object(S.jsxs)("div",{children:[n&&Object(S.jsxs)("div",{className:o.header,children:[Object(S.jsx)("b",{className:o.title,children:" Node Details"}),Object(S.jsx)(M.a,{className:o.lensToggleBtn,onClick:function(){s((function(e){return!e}))},children:!0===c?Object(S.jsx)(Ce.a,{className:o.expand}):Object(S.jsx)(Ne.a,{className:o.expand})})]}),Object(S.jsx)("div",{className:"nodeToggle",children:c&&n&&Object(S.jsx)("div",{children:Object(S.jsx)(ze,{node:n})})})]})}var ze=function(e){var n=e.node;return Object(S.jsxs)(S.Fragment,{children:[" ",Object(S.jsx)(we,{node:n})," "]})};function De(e){var n=e.setLens,t=e.curNode;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(_e,{setLens:n}),Object(S.jsx)(Ae,{curNode:t})]})}var Me=Object(h.a)((function(e){return Object(g.a)({root:{display:"flex"},header:{justifyContent:"space-between"},titleIcon:{fontSize:"36px"},title:{flexGrow:1},link:{color:"#42C6FF",textDecoration:"none"}})})),qe=t(196);function Be(){return(Be=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function We(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)t=c[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var Ue=r.createElement("clipPath",{id:"p.0"},r.createElement("path",{d:"m0 0l720.0 0l0 540.0l-720.0 0l0 -540.0z",clipRule:"nonzero"})),Ge=r.createElement("g",{clipPath:"url(#p.0)"},r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m0 0l720.0 0l0 540.0l-720.0 0z",fillRule:"evenodd"}),r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m162.27768 426.58514l0 0c0 -39.288696 32.442673 -71.13849 72.46272 -71.13849l0 0c19.218307 0 37.64949 7.494934 51.238876 20.835968c13.5894165 13.341064 21.223846 31.435425 21.223846 50.30252l0 0c0 39.288696 -32.442657 71.13849 -72.46272 71.13849l0 0c-40.02005 0 -72.46272 -31.849792 -72.46272 -71.13849z",fillRule:"evenodd"}),r.createElement("path",{stroke:"#008afc",strokeWidth:12,strokeLinejoin:"round",strokeLinecap:"butt",d:"m162.27768 426.58514l0 0c0 -39.288696 32.442673 -71.13849 72.46272 -71.13849l0 0c19.218307 0 37.64949 7.494934 51.238876 20.835968c13.5894165 13.341064 21.223846 31.435425 21.223846 50.30252l0 0c0 39.288696 -32.442657 71.13849 -72.46272 71.13849l0 0c-40.02005 0 -72.46272 -31.849792 -72.46272 -71.13849z",fillRule:"evenodd"}),r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m300.7371 127.47872l151.87177 79.2365",fillRule:"evenodd"}),r.createElement("path",{stroke:"#008afc",strokeWidth:12,strokeLinejoin:"round",strokeLinecap:"butt",d:"m300.7371 127.47872l151.87177 79.2365",fillRule:"evenodd"}),r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m303.3025 396.74707l149.30637 -89.42682",fillRule:"evenodd"}),r.createElement("path",{stroke:"#008afc",strokeWidth:12,strokeLinejoin:"round",strokeLinecap:"butt",d:"m303.3025 396.74707l149.30637 -89.42682",fillRule:"evenodd"}),r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m431.385 257.01773l0 0c0 -39.288696 32.442657 -71.13849 72.46274 -71.13849l0 0c19.218292 0 37.649506 7.494919 51.23886 20.835983c13.5894165 13.341049 21.223877 31.43541 21.223877 50.302505l0 0c0 39.288696 -32.442688 71.13849 -72.46274 71.13849l0 0c-40.02008 0 -72.46274 -31.849792 -72.46274 -71.13849z",fillRule:"evenodd"}),r.createElement("path",{stroke:"#008afc",strokeWidth:12,strokeLinejoin:"round",strokeLinecap:"butt",d:"m431.385 257.01773l0 0c0 -39.288696 32.442657 -71.13849 72.46274 -71.13849l0 0c19.218292 0 37.649506 7.494919 51.23886 20.835983c13.5894165 13.341049 21.223877 31.43541 21.223877 50.302505l0 0c0 39.288696 -32.442688 71.13849 -72.46274 71.13849l0 0c-40.02008 0 -72.46274 -31.849792 -72.46274 -71.13849z",fillRule:"evenodd"}),r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m547.83453 257.01773l0 0c0 11.118866 -4.6343384 21.782288 -12.883423 29.6445c-8.2491455 7.862213 -19.437378 12.279175 -31.103363 12.279175l0 -41.923676z",fillRule:"evenodd"}),r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m547.83453 257.01773l0 0c0 11.118866 -4.6343384 21.782288 -12.883423 29.6445c-8.2491455 7.862213 -19.437378 12.279175 -31.103363 12.279175",fillRule:"evenodd"}),r.createElement("path",{stroke:"#008afc",strokeWidth:4,strokeLinejoin:"round",strokeLinecap:"butt",d:"m547.83453 257.01773l0 0c0 11.118866 -4.6343384 21.782288 -12.883423 29.6445c-8.2491455 7.862213 -19.437378 12.279175 -31.103363 12.279175",fillRule:"evenodd"}),r.createElement("path",{fill:"#000000",fillOpacity:0,d:"m162.27768 98.24121l0 0c0 -39.288704 32.442673 -71.13849 72.46272 -71.13849l0 0c19.218307 0 37.64949 7.4949265 51.238876 20.835983c13.5894165 13.341057 21.223846 31.435413 21.223846 50.30251l0 0c0 39.28871 -32.442657 71.138504 -72.46272 71.138504l0 0c-40.02005 0 -72.46272 -31.849792 -72.46272 -71.138504z",fillRule:"evenodd"}),r.createElement("path",{stroke:"#008afc",strokeWidth:12,strokeLinejoin:"round",strokeLinecap:"butt",d:"m162.27768 98.24121l0 0c0 -39.288704 32.442673 -71.13849 72.46272 -71.13849l0 0c19.218307 0 37.64949 7.4949265 51.238876 20.835983c13.5894165 13.341057 21.223846 31.435413 21.223846 50.30251l0 0c0 39.28871 -32.442657 71.138504 -72.46272 71.138504l0 0c-40.02005 0 -72.46272 -31.849792 -72.46272 -71.138504z",fillRule:"evenodd"}));function He(e,n){var t=e.title,a=e.titleId,c=We(e,["title","titleId"]);return r.createElement("svg",Be({viewBox:"0.0 0.0 720.0 540.0",fill:"none",stroke:"none",strokeLinecap:"square",strokeMiterlimit:10,xmlnsXlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},c),t?r.createElement("title",{id:a},t):null,Ue,Ge)}var Je=r.forwardRef(He),Qe=(t.p,Object(h.a)((function(e){return Object(g.a)({logoIcon:{marginRight:"0.5em",color:"transparent"}})})));function Ve(e){var n=Qe();return Object(S.jsx)(qe.a,{component:Je,viewBox:"150 0 400 500",className:n.logoIcon})}var Ye=Me,Xe=function(e){var n=e.displayBtn,t=Ye();return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(F.a,{position:"static",children:Object(S.jsxs)(R.a,{className:t.header,children:[Object(S.jsx)(Ve,{className:t.titleIcon}),Object(S.jsx)(T.a,{variant:"h6",className:t.title,children:"GRAPL"}),n&&Object(S.jsx)(L.b,{to:"/",className:t.link})]})})})},$e=t(357),Ke=t(347),Ze=t(348),en=t(350),nn=t(349),tn=Object(h.a)({root:{maxWidth:345,postion:"fixed"},button:{border:"2px solid white",backgroundColor:"#42c6ff"}});function rn(){var e=tn();return Object(S.jsx)($e.a,{open:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(S.jsxs)(Ke.a,{variant:"outlined",className:e.root,children:[Object(S.jsx)(Ze.a,{children:Object(S.jsx)(nn.a,{children:Object(S.jsxs)(T.a,{variant:"body2",color:"textSecondary",component:"p",children:["You are not logged in and changes cannot be saved. ",Object(S.jsx)("br",{}),"EDIT: You may actually be logged in Actix-wise, this is just ",Object(S.jsx)("br",{}),"leftovers from Engagement View/Edge's JWT auth"]})})}),Object(S.jsx)(en.a,{children:Object(S.jsxs)(M.a,{className:e.button,size:"small",onClick:function(){window.history.replaceState("#/","","#/login"),window.location.reload()},children:[" ","Login"," "]})})]})})}var an=function(){var e=Object(f.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat(m.auth,"/checkLogin"),"post");case 3:return n=e.sent,e.abrupt("return",!0===n.success);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),cn=500,sn=Object(h.a)((function(e){return Object(g.a)({root:{display:"flex"},button:{backgroundColor:"#42C6FF",margin:"0.25rem",padding:"0.20rem"},loggedIn:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(cn,"px)"),marginLeft:cn,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2),color:"#42C6FF"},hide:{display:"none"},drawer:{width:cn,flexShrink:0},drawerPaper:{width:cn},drawerHeader:Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-500},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},lensName:{color:"#EAFDFF",fontSize:"1.5rem"},headerTitle:{fontSize:"35px"},headerContainer:{width:"100vw",display:"flex",justifyContent:"space-between"},close:{color:"#42C6FF"},link:{color:"#42C6FF",textDecoration:"none"}})}));function on(e){var n=e.setLens,t=e.curLens,r=e.curNode,c=sn(),s=a.a.useState(!0),o=Object(j.a)(s,2),i=o[0],l=o[1];return Object(S.jsxs)("div",{className:c.root,children:[Object(S.jsx)(F.a,{position:"fixed",className:Object(E.a)(c.appBar,Object(P.a)({},c.appBarShift,i)),children:Object(S.jsxs)(R.a,{children:[Object(S.jsx)(A.a,{color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},edge:"start",className:Object(E.a)(c.menuButton,i&&c.hide),children:"\u2630"}),Object(S.jsxs)("div",{className:c.headerContainer,children:[Object(S.jsx)(T.a,{variant:"h5",noWrap:!0,children:Object(S.jsx)("b",{className:c.headerTitle,children:" GRAPL "})}),Object(S.jsx)(L.b,{to:"/",className:c.link,children:Object(S.jsx)(B.a,{})})]})]})}),Object(S.jsxs)(I.a,{className:c.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:c.drawerPaper},children:[Object(S.jsx)("div",{className:c.drawerHeader,children:Object(S.jsx)(M.a,{onClick:function(){l(!1)},children:Object(S.jsx)(D.a,{className:c.close})})}),Object(S.jsx)(_.a,{}),Object(S.jsx)(De,{setLens:n,curNode:r})]}),Object(S.jsxs)("main",{className:Object(E.a)(c.content,Object(P.a)({},c.contentShift,i)),children:[Object(S.jsx)("div",{className:c.drawerHeader}),Object(S.jsxs)("h3",{className:c.lensName,children:[" ",t||""," "]}),Object(S.jsx)(T.a,{paragraph:!0})]})]})}var ln=function(){var e=sn(),n=a.a.useState({curLens:"",curNode:null,loggedIn:!0,renderedOnce:!1}),t=Object(j.a)(n,2),c=t[0],s=t[1];Object(r.useEffect)((function(){if(!c.renderedOnce){var e=function(){var e=Object(f.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an();case 2:(n=e.sent)||console.warn("Logged out"),s(Object(d.a)(Object(d.a)({},c),{},{loggedIn:n||!1,renderedOnce:!0}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var n=setInterval(e,1e3);return function(){clearInterval(n)}}}),[c,s]);var o=c.loggedIn;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(on,{setLens:function(e){return s(Object(d.a)(Object(d.a)({},c),{},{curLens:e}))},curLens:c.curLens,curNode:c.curNode}),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:e.loggedIn,children:o?"":Object(S.jsx)(rn,{})}),Object(S.jsx)(be,{lensName:c.curLens,setCurNode:function(e){s(Object(d.a)(Object(d.a)({},c),{},{curNode:e}))}})]})]})},un=t(189),dn=Object(h.a)((function(e){return Object(g.a)({root:{display:"flex"},button:{backgroundColor:"#1A191C",margin:"1rem",fontSize:".65rem"},loggedIn:{display:"flex",justifyContent:"flex-end",zIndex:100},dashboard:{display:"flex",flexDirection:"row"},link:{fontSize:".75rem",color:"white",textDecoration:"none",padding:".75rem",backgroundColor:"#1A191C",margin:"1rem",textAlign:"center",borderRadius:".15rem",textTransform:"uppercase"},sagemaker:{fontSize:".65rem",color:"white",textDecoration:"none",padding:".65rem",backgroundColor:"#1A191C",margin:"1rem",textAlign:"center",borderRadius:".15rem",textTransform:"uppercase"},navSec:{margin:"0 auto",marginTop:"6rem"},help:{color:"white"}})})),fn=function(){var e=Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y("".concat(m.auth,"/getNotebook"),"post").then((function(e){return e.success.notebook_url})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jn=dn;function bn(){var e=Object(un.a)(fn,[]),n=jn(),t=Object(r.useState)({loggedIn:!0,renderedOnce:!1}),a=Object(j.a)(t,2),c=a[0],s=a[1];Object(r.useEffect)((function(){if(!c.renderedOnce){var e=setInterval(Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an().then((function(e){e||console.warn("Logged out"),s({loggedIn:e||!1,renderedOnce:!0})}));case 2:case"end":return e.stop()}}),e)}))),2e3);return function(){clearInterval(e)}}}),[c,s]),console.log("state - loggedin",c.loggedIn);var o=c.loggedIn;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Xe,{displayBtn:!1}),Object(S.jsxs)("div",{className:n.dashboard,children:[Object(S.jsxs)("section",{className:n.navSec,children:[Object(S.jsxs)(L.b,{to:"/engagements",className:n.link,children:[" ","Engagements"," "]}),Object(S.jsxs)(L.b,{to:"/plugins",className:n.link,children:[" ","Upload Plugin"," "]}),Object(S.jsxs)(M.a,{onClick:function(){!e.loading&&e.result?window.open(e.result):alert("sagemaker url not ready")},className:n.sagemaker,children:[" ","Engagement Notebook"," "]})]}),Object(S.jsx)("section",{children:Object(S.jsx)("div",{className:n.loggedIn,children:o?"":Object(S.jsx)(rn,{})})})]})]})}var pn=t(190),hn=t.n(pn),gn=function(){var e=Object(f.a)(u.a.mark((function e(n){var t,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(n),e.next=3,w("".concat(m.modelPluginEdge,"/deploy"),t);case 3:return r=e.sent,e.next=6,r;case 6:return a=e.sent,e.abrupt("return",a.success.Success);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),On=Object(h.a)((function(e){return Object(g.a)({root:{display:"flex"},formContainer:{color:"white",margin:"1rem"},btn:{backgroundColor:"#42C6FF",margin:"0.25rem",padding:"0.25rem",borderRadius:"6px"},loggedIn:{display:"flex",justifyContent:"flex-end"},inputFiles:{border:"none",width:"35vw"},upload:{display:"flex"},succMsg:{color:"#03dac6"},errMsg:{color:"#CF6679"},pluginTable:{backgroundColor:"#292929",margin:"1em",width:"50%",height:"100%",boxShadow:" 1.5px 1.5px #000000"},uploadFormContainer:{backgroundColor:"#292929",margin:"1em",width:"50%",height:"100%",boxShadow:"1.5px 1.5px #000000",display:"flex"},uploadForm:{fontFamily:"Arial",display:"flex",fontSize:".75rem"}})})),mn=function(){var e=Object(f.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var r=new FileReader;return r.addEventListener("load",(function(n){if(null!==n.target){var r=n.target.result;if(null===r)return console.warn("Read pluginfile was null"),void t(null);e("string"===typeof r?r:(new TextDecoder).decode(r))}else console.warn("onload event was null")})),r.readAsText(n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),xn=function(e){var n=e.status,t=On();return!0===n?Object(S.jsx)("div",{className:t.succMsg,children:"Plugins Successfully Deployed!"}):!1===n?Object(S.jsx)("div",{className:t.errMsg,children:"Upload Unsuccessful"}):Object(S.jsx)("div",{})},vn=function(){var e=a.a.useState({curFiles:null,success:null}),n=Object(j.a)(e,2),t=n[0],r=n[1],c=On();return Object(S.jsxs)("div",{className:c.formContainer,children:[Object(S.jsx)("h4",{children:"UPLOAD DIRECTORY WITH PLUGINS:"}),Object(S.jsx)(p.c,{initialValues:{filename:""},onSubmit:function(e){var n={},a=[],c=t.curFiles;if(null!==c){var s,o=Object(H.a)(c);try{var i=function(){var e=s.value,t=mn(e).then((function(t){var r=e.webkitRelativePath||e.mozRelativePath;n[r]=t}));a.push(t)};for(o.s();!(s=o.n()).done;)i()}catch(u){o.e(u)}finally{o.f()}var l=!0;Promise.all(a).then((function(){return gn({plugins:n})})).then((function(e){l=l&&e})).then((function(){return r(Object(d.a)(Object(d.a)({},t),{},{success:l}))}))}else console.warn("Attempted to upload files without selecting any")},children:Object(S.jsxs)(p.b,{className:c.uploadForm,children:[Object(S.jsx)(p.a,{className:c.inputFiles,name:"plugin",directory:"",webkitdirectory:"",mozdirectory:"",type:"file",multiple:!0,placeholder:"Plugin",onChange:function(e){r(Object(d.a)(Object(d.a)({},t),{},{curFiles:e.currentTarget.files}))}}),Object(S.jsx)(M.a,{className:"submitBtn",type:"submit",children:Object(S.jsx)(hn.a,{className:c.btn})})]})}),Object(S.jsx)("br",{}),Object(S.jsx)(xn,{status:t.success})]})},yn=t(191),wn=t.n(yn),kn=function(){var e=Object(f.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat(m.modelPluginEdge,"/listModelPlugins"),"POST");case 3:return n=e.sent,console.log("getPluginList",n),t=n.success.plugin_list,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),console.warn("Error retrieving pluginList",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(f.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify({plugins_to_delete:[n]}),e.prev=1,e.next=4,w("".concat(m.modelPluginEdge,"/deleteModelPlugin"),t);case 4:return r=e.sent,e.next=7,r.success;case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),console.warn("Error deleting plugin",e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),Sn=function(){var e=On(),n=a.a.useState({rows:[],toggle:!0}),t=Object(j.a)(n,2),c=t[0],s=t[1],o=Object(r.useState)(0),i=Object(j.a)(o,2),l=i[0],b=i[1],p=Object(r.useState)(10),h=Object(j.a)(p,2),g=h[0],O=h[1],m=g-Math.min(g,c.rows.length-l*g);return Object(r.useEffect)((function(){try{var e=setInterval(Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn().then((function(e){s({toggle:c.toggle,rows:e})}));case 2:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearInterval(e)}}catch(n){console.error("Unable to retrieve plugin list",n)}}),[c.toggle]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(Oe.a,{children:[Object(S.jsxs)(pe.a,{children:[Object(S.jsx)(xe.a,{children:Object(S.jsx)(me.a,{children:Object(S.jsx)(ge.a,{align:"left",children:"PLUGINS"})},"plugin")}),Object(S.jsxs)(he.a,{"aria-label":"PluginTable",children:[c.rows.slice(l*g,l*g+g).map((function(n){return Object(S.jsx)(me.a,{children:Object(S.jsxs)(ge.a,{align:"right",children:[n,Object(S.jsx)(M.a,{onClick:function(){Nn(n).then((function(){s(Object(d.a)(Object(d.a)({},c),{},{toggle:c.toggle&&!1})),console.log("Plugin Deleted")}))},children:Object(S.jsx)(wn.a,{className:e.btn})})]})},n)})),m>0&&Object(S.jsx)(me.a,{style:{height:53*m},children:Object(S.jsx)(ge.a,{colSpan:6})})]})]}),Object(S.jsx)(Ee.a,{"aria-label":"pagination",rowsPerPageOptions:[5,10,25],component:"div",count:c.rows.length,rowsPerPage:g,page:l,onChangePage:function(e,n){b(n)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),b(0)}})]})})},Cn=function(){var e=On(),n=Object(r.useState)({loggedIn:!0,renderedOnce:!1}),t=Object(j.a)(n,2),a=t[0],c=t[1];Object(r.useEffect)((function(){if(!a.renderedOnce){var e=setInterval(Object(f.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an().then((function(e){e||console.warn("Logged Out"),c({loggedIn:e||!1,renderedOnce:!0})}));case 2:case"end":return e.stop()}}),e)}))),2e3);return function(){clearInterval(e)}}}),[a,c]);var s=a.loggedIn;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Xe,{displayBtn:!0}),Object(S.jsx)("div",{className:e.loggedIn,children:s?"":Object(S.jsx)(rn,{})}),Object(S.jsxs)("div",{className:e.upload,children:[Object(S.jsxs)("div",{className:e.uploadFormContainer,children:[Object(S.jsx)(vn,{}),Object(S.jsx)("div",{id:"message"})]}),Object(S.jsx)("div",{className:e.pluginTable,children:Object(S.jsx)(Sn,{})})]})]})},Pn=t(24);var Ln=function(){return console.log("Grapl loaded"),Object(S.jsx)(L.a,{children:Object(S.jsxs)(Pn.c,{children:[Object(S.jsx)(Pn.a,{exact:!0,path:"/login",component:C}),Object(S.jsx)(Pn.a,{exact:!0,path:"/",component:bn}),Object(S.jsx)(Pn.a,{exact:!0,path:"/plugins",component:Cn}),Object(S.jsx)(Pn.a,{exact:!0,path:"/engagements",component:ln})]})})};function En(){return console.log("Welcome to Grapl"),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Ln,{})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var In=Object(o.a)({palette:{type:"dark",primary:{main:"#373740"}}}),Fn=document.getElementById("root");s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(L.a,{children:Object(S.jsxs)(i.a,{theme:In,children:[Object(S.jsx)(En,{}),","]})})}),Fn),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[288,1,2]]]);
//# sourceMappingURL=main.236f9208.chunk.js.map